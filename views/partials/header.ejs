<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Scatch</title>
     <link rel="stylesheet" href="/stylesheets/output.css">
     <link rel="stylesheet" href="/stylesheets/input.css">
     <script src="/javascript/script.js"></script>
     <link rel="stylesheet" href="">
</head>

<body class="font-serif relative bg-zinc-200">
     <nav class="w-full fixed top-0 left-0 px-5 py-3 flex justify-between items-center bg-[#000000d6] z-10">
          <h3 class="text-3xl text-blue-300  ">Scatch</h3>
          <% var isLoggedIn=typeof isLoggedIn !=="undefined" ? isLoggedIn : "true" %>
               <% var userView=typeof userView !=="undefined" ? userView : "false" %>
                    <% if (isLoggedIn && userView) { %>
                         <div class="search w-1/3 absolute top-[4rem] left-1/2 -translate-x-1/2 -translate-y-1/2 border-2 border-zinc-700 rounded-full px-3 py-1 flex justify-between gap-4 bg-zinc-200"
                              style="top: 2rem;">
                              <span>
                                   <!-- Filled search icon (24x24) -->
                                   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        aria-hidden="true" role="img">
                                        <title>Search</title>
                                        <path fill="currentColor"
                                             d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79L20 21.49 21.49 20 15.5 14zM10 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8z" />
                                   </svg>
                              </span>
                              <input type="text" class="outline-none w-full " id="search" name="search"
                                   placeholder="search your favorite bags">
                              <span>Search</span>
                         </div>
                         <% } %>

                              <% if (isLoggedIn || userView) { %>
                                   <div class="flex items-center gap-5 relative">
                                        <div>
                                             <a class="hover:bg-zinc-700 text-zinc-400 hover:text-zinc-200 transition-all font-semibold hover:shadow-[1px_2px_10px_black] px-2 py-1 rounded-md"
                                                  href="/index/shop">Shop</a>
                                             <a class="hover:bg-zinc-700 text-zinc-400 hover:text-zinc-200 transition-all font-semibold hover:shadow-[1px_2px_10px_black] px-2 py-1 rounded-md"
                                                  href="/users/cart">Cart</a>
                                             <a class="hover:bg-zinc-700 text-zinc-400 hover:text-zinc-200 transition-all font-semibold hover:shadow-[1px_2px_10px_black] px-2 py-1 rounded-md"
                                                  href="/users/order">Orders</a>
                                        </div>
                                        
                                        <% if (typeof user !== 'undefined') { %>
                                             <% if (!user.picture) { %>
                                                  <% var imageUrl='/images/default_profile_photo.jpeg' ; %>
                                             <% } else { %>
                                                  <% var imageUrl='data:image/jpeg;base64,' + user.picture.toString('base64'); %>
                                             <% } %>
                                        <% } %>
                                        <div class="w-10 h-10 rounded-full">
                                             <img class="dropdown w-full h-full object-fill rounded-full" src="/images/default_profile_photo.jpeg" alt="">
                                        </div>
                                        <div class="dropdown-content absolute top-14 right-5 text-black rounded-md bg-zinc-300 shadow-[0px_0px_8px_black]">
                                             <a class="block px-3 py-1 hover:underline hover:bg-zinc-700 hover:text-zinc-300" href="/users/profile">My Account</a>
                                             <a class="block px-3 py-1 hover:underline hover:bg-zinc-700 hover:text-zinc-300" href="/users/logout">Logout</a>
                                        </div>
                                   </div>
                              <% } else { %>
                                   <div>
                                        <a class="hover:bg-zinc-700 text-zinc-400 hover:text-zinc-200 transition-all font-semibold hover:shadow-[1px_2px_10px_black] px-2 py-1 rounded-md" href="">LogIn</a>
                                   </div>
                              <% } %>
     </nav>